{"version":3,"sources":["../src/Noise.ts","../src/main.tsx"],"names":["Noise","Noise.Grad","Noise.Grad.constructor","Noise.Grad.dot2","Noise.Grad.dot3","Noise.fade","Noise.lerp","Noise.Noise","Noise.Noise.constructor","Noise.Noise.seed","Noise.Noise.simplex2","Noise.Noise.simplex3","Noise.Noise.perlin2","Noise.Noise.perlin3","Pos","Pos.distance2","Pos.minus","Pos.angle","Pos.toString","Pos.clone","UnionFind","UnionFind.constructor","UnionFind.add","UnionFind.find","UnionFind.link","UnionFind.toMap","CityElement","CityElement.constructor","CityElement.render","CityElement.toString","PolyElement","PolyElement.constructor","PolyElement.renderObj","House","House.constructor","CircleElement","CircleElement.constructor","CircleElement.renderObj","Tree","Tree.constructor","River","River.constructor","Road","Road.constructor","PixelMap","PixelMap.constructor","PixelMap.add","PixelMap.get","makeTerrain","City","City.constructor","City.add","City.unionizeHouses","randomNumber","randomChoice","moveInDir","getMaxIndex","placeHouseNearRiver","randomCity","delayed","normalizeAngle","walkPath","CityRenderer","CityRenderer.render","CityRenderer.clear","CityRenderer.drawTerrain","CityRenderer.drawCity","CityRenderer.getCanvas"],"mappings":"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,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,CAACA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,CAACA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,EACjGA,GAAGA,EAAEA,CAACA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,CAACA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,EAAEA,EAC/FA,EAAEA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,GAAGA,EAC9FA,EAAEA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,GAAGA,EAC/FA,GAAGA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,CAACA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAC5FA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,CAACA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAC7FA,CAACA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,EAAEA,EAChGA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,CAACA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,CAACA,EAC3FA,GAAGA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,GAAGA,EAC5FA,GAAGA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,EAAEA,EA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AACA,CAACA,CAACA,IAAIA,CAACA,CAACA,EAAEA,CAACA,EAAEA,CAACA,CAACA,CAACA;AACtDA,oBAAIA,IAAIA,GAAGA,KAAKA,CAACA,CAACA,GAAGA,IAAIA,CAACA,CAACA,GAAGA,IAAIA,CAACA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,EAAEA,CAACA,EAAEA,CAACA,GAAGA,CAACA,CAACA,CAACA;AAC9DA,oBAAIA,IAAIA,GAAGA,KAAKA,CAACA,CAACA,GAAGA,IAAIA,CAACA,CAACA,GAAGA,CAACA,GAAGA,IAAIA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,EAAEA,CAACA,GAAGA,CAACA,EAAEA,CAACA,CAACA,CAACA;AAC9DA,oBAAIA,IAAIA,GAAGA,KAAKA,CAACA,CAACA,GAAGA,IAAIA,CAACA,CAACA,GAAGA,CAACA,GAAGA,IAAIA,CAACA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,EAAEA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,CAACA,CAACA,CAACA;AACtEA,oBAAIA,IAAIA,GAAGA,KAAKA,CAACA,CAACA,GAAGA,CAACA,GAAGA,IAAIA,CAACA,CAACA,GAAGA,IAAIA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,CAACA,CAACA,CAACA;AAC9DA,oBAAIA,IAAIA,GAAGA,KAAKA,CAACA,CAACA,GAAGA,CAACA,GAAGA,IAAIA,CAACA,CAACA,GAAGA,IAAIA,CAACA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,CAACA,GAAGA,CAACA,CAACA,CAACA;AACtEA,oBAAIA,IAAIA,GAAGA,KAAKA,CAACA,CAACA,GAAGA,CAACA,GAAGA,IAAIA,CAACA,CAACA,GAAGA,CAACA,GAAGA,IAAIA,CAACA,C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","file":"tmp.js","sourcesContent":[null,"\"use strict\";\n/*\n * A speed-improved perlin and simplex noise algorithms for 2D.\n *\n * Based on example code by Stefan Gustavson (stegu@itn.liu.se).\n * Optimisations by Peter Eastman (peastman@drizzle.stanford.edu).\n * Better rank ordering method by Stefan Gustavson in 2012.\n * Converted to Javascript by Joseph Gentle.\n *\n * Version 2012-03-09\n *\n * This code was placed in the public domain by its original author,\n * Stefan Gustavson. You may use it as you see fit, but\n * attribution is appreciated.\n *\n */\nvar Noise;\n(function (Noise_1) {\n    class Grad {\n        constructor(x, y, z) {\n            this.x = x;\n            this.y = y;\n            this.z = z;\n            this.x = x;\n            this.y = y;\n            this.z = z;\n        }\n        dot2(x, y) {\n            return this.x * x + this.y * y;\n        }\n        dot3(x, y, z) {\n            return this.x * x + this.y * y + this.z * z;\n        }\n    }\n    const grad3 = [new Grad(1, 1, 0), new Grad(-1, 1, 0), new Grad(1, -1, 0), new Grad(-1, -1, 0),\n        new Grad(1, 0, 1), new Grad(-1, 0, 1), new Grad(1, 0, -1), new Grad(-1, 0, -1),\n        new Grad(0, 1, 1), new Grad(0, -1, 1), new Grad(0, 1, -1), new Grad(0, -1, -1)];\n    // ##### Perlin noise stuff\n    function fade(t) {\n        return t * t * t * (t * (t * 6 - 15) + 10);\n    }\n    function lerp(a, b, t) {\n        return (1 - t) * a + t * b;\n    }\n    // Skewing and unskewing factors for 2, 3, and 4 dimensions\n    const F2 = 0.5 * (Math.sqrt(3) - 1);\n    const G2 = (3 - Math.sqrt(3)) / 6;\n    const F3 = 1 / 3;\n    const G3 = 1 / 6;\n    const p = [151, 160, 137, 91, 90, 15,\n        131, 13, 201, 95, 96, 53, 194, 233, 7, 225, 140, 36, 103, 30, 69, 142, 8, 99, 37, 240, 21, 10, 23,\n        190, 6, 148, 247, 120, 234, 75, 0, 26, 197, 62, 94, 252, 219, 203, 117, 35, 11, 32, 57, 177, 33,\n        88, 237, 149, 56, 87, 174, 20, 125, 136, 171, 168, 68, 175, 74, 165, 71, 134, 139, 48, 27, 166,\n        77, 146, 158, 231, 83, 111, 229, 122, 60, 211, 133, 230, 220, 105, 92, 41, 55, 46, 245, 40, 244,\n        102, 143, 54, 65, 25, 63, 161, 1, 216, 80, 73, 209, 76, 132, 187, 208, 89, 18, 169, 200, 196,\n        135, 130, 116, 188, 159, 86, 164, 100, 109, 198, 173, 186, 3, 64, 52, 217, 226, 250, 124, 123,\n        5, 202, 38, 147, 118, 126, 255, 82, 85, 212, 207, 206, 59, 227, 47, 16, 58, 17, 182, 189, 28, 42,\n        223, 183, 170, 213, 119, 248, 152, 2, 44, 154, 163, 70, 221, 153, 101, 155, 167, 43, 172, 9,\n        129, 22, 39, 253, 19, 98, 108, 110, 79, 113, 224, 232, 178, 185, 112, 104, 218, 246, 97, 228,\n        251, 34, 242, 193, 238, 210, 144, 12, 191, 179, 162, 241, 81, 51, 145, 235, 249, 14, 239, 107,\n        49, 192, 214, 31, 181, 199, 106, 157, 184, 84, 204, 176, 115, 121, 50, 45, 127, 4, 150, 254,\n        138, 236, 205, 93, 222, 114, 67, 29, 24, 72, 243, 141, 128, 195, 78, 66, 215, 61, 156, 180];\n    // To remove the need for index wrapping, double the permutation table length\n    const perm = new Array(512);\n    const gradP = new Array(512);\n    class Noise {\n        constructor() {\n            this.seed(Math.random());\n        }\n        // This isn't a very good seeding function, but it works ok. It supports 2^16\n        // different seed values. Write something better if you need more seeds.\n        seed(seed) {\n            if (seed > 0 && seed < 1) {\n                // Scale the seed out\n                seed *= 65536;\n            }\n            seed = Math.floor(seed);\n            if (seed < 256) {\n                seed |= seed << 8;\n            }\n            for (var i = 0; i < 256; i++) {\n                var v;\n                if (i & 1) {\n                    v = p[i] ^ (seed & 255);\n                }\n                else {\n                    v = p[i] ^ ((seed >> 8) & 255);\n                }\n                perm[i] = perm[i + 256] = v;\n                gradP[i] = gradP[i + 256] = grad3[v % 12];\n            }\n        }\n        ;\n        /*\n        for(var i=0; i<256; i++) {\n            perm[i] = perm[i + 256] = p[i];\n            gradP[i] = gradP[i + 256] = grad3[perm[i] % 12];\n        }*/\n        // 2D simplex noise\n        simplex2(xin, yin) {\n            var n0, n1, n2; // Noise contributions from the three corners\n            // Skew the input space to determine which simplex cell we're in\n            var s = (xin + yin) * F2; // Hairy factor for 2D\n            var i = Math.floor(xin + s);\n            var j = Math.floor(yin + s);\n            var t = (i + j) * G2;\n            var x0 = xin - i + t; // The x,y distances from the cell origin, unskewed.\n            var y0 = yin - j + t;\n            // For the 2D case, the simplex shape is an equilateral triangle.\n            // Determine which simplex we are in.\n            var i1, j1; // Offsets for second (middle) corner of simplex in (i,j) coords\n            if (x0 > y0) {\n                i1 = 1;\n                j1 = 0;\n            }\n            else {\n                i1 = 0;\n                j1 = 1;\n            }\n            // A step of (1,0) in (i,j) means a step of (1-c,-c) in (x,y), and\n            // a step of (0,1) in (i,j) means a step of (-c,1-c) in (x,y), where\n            // c = (3-sqrt(3))/6\n            var x1 = x0 - i1 + G2; // Offsets for middle corner in (x,y) unskewed coords\n            var y1 = y0 - j1 + G2;\n            var x2 = x0 - 1 + 2 * G2; // Offsets for last corner in (x,y) unskewed coords\n            var y2 = y0 - 1 + 2 * G2;\n            // Work out the hashed gradient indices of the three simplex corners\n            i &= 255;\n            j &= 255;\n            var gi0 = gradP[i + perm[j]];\n            var gi1 = gradP[i + i1 + perm[j + j1]];\n            var gi2 = gradP[i + 1 + perm[j + 1]];\n            // Calculate the contribution from the three corners\n            var t0 = 0.5 - x0 * x0 - y0 * y0;\n            if (t0 < 0) {\n                n0 = 0;\n            }\n            else {\n                t0 *= t0;\n                n0 = t0 * t0 * gi0.dot2(x0, y0); // (x,y) of grad3 used for 2D gradient\n            }\n            var t1 = 0.5 - x1 * x1 - y1 * y1;\n            if (t1 < 0) {\n                n1 = 0;\n            }\n            else {\n                t1 *= t1;\n                n1 = t1 * t1 * gi1.dot2(x1, y1);\n            }\n            var t2 = 0.5 - x2 * x2 - y2 * y2;\n            if (t2 < 0) {\n                n2 = 0;\n            }\n            else {\n                t2 *= t2;\n                n2 = t2 * t2 * gi2.dot2(x2, y2);\n            }\n            // Add contributions from each corner to get the final noise value.\n            // The result is scaled to return values in the interval [-1,1].\n            return 70 * (n0 + n1 + n2);\n        }\n        ;\n        // 3D simplex noise\n        simplex3(xin, yin, zin) {\n            var n0, n1, n2, n3; // Noise contributions from the four corners\n            // Skew the input space to determine which simplex cell we're in\n            var s = (xin + yin + zin) * F3; // Hairy factor for 2D\n            var i = Math.floor(xin + s);\n            var j = Math.floor(yin + s);\n            var k = Math.floor(zin + s);\n            var t = (i + j + k) * G3;\n            var x0 = xin - i + t; // The x,y distances from the cell origin, unskewed.\n            var y0 = yin - j + t;\n            var z0 = zin - k + t;\n            // For the 3D case, the simplex shape is a slightly irregular tetrahedron.\n            // Determine which simplex we are in.\n            var i1, j1, k1; // Offsets for second corner of simplex in (i,j,k) coords\n            var i2, j2, k2; // Offsets for third corner of simplex in (i,j,k) coords\n            if (x0 >= y0) {\n                if (y0 >= z0) {\n                    i1 = 1;\n                    j1 = 0;\n                    k1 = 0;\n                    i2 = 1;\n                    j2 = 1;\n                    k2 = 0;\n                }\n                else if (x0 >= z0) {\n                    i1 = 1;\n                    j1 = 0;\n                    k1 = 0;\n                    i2 = 1;\n                    j2 = 0;\n                    k2 = 1;\n                }\n                else {\n                    i1 = 0;\n                    j1 = 0;\n                    k1 = 1;\n                    i2 = 1;\n                    j2 = 0;\n                    k2 = 1;\n                }\n            }\n            else {\n                if (y0 < z0) {\n                    i1 = 0;\n                    j1 = 0;\n                    k1 = 1;\n                    i2 = 0;\n                    j2 = 1;\n                    k2 = 1;\n                }\n                else if (x0 < z0) {\n                    i1 = 0;\n                    j1 = 1;\n                    k1 = 0;\n                    i2 = 0;\n                    j2 = 1;\n                    k2 = 1;\n                }\n                else {\n                    i1 = 0;\n                    j1 = 1;\n                    k1 = 0;\n                    i2 = 1;\n                    j2 = 1;\n                    k2 = 0;\n                }\n            }\n            // A step of (1,0,0) in (i,j,k) means a step of (1-c,-c,-c) in (x,y,z),\n            // a step of (0,1,0) in (i,j,k) means a step of (-c,1-c,-c) in (x,y,z), and\n            // a step of (0,0,1) in (i,j,k) means a step of (-c,-c,1-c) in (x,y,z), where\n            // c = 1/6.\n            var x1 = x0 - i1 + G3; // Offsets for second corner\n            var y1 = y0 - j1 + G3;\n            var z1 = z0 - k1 + G3;\n            var x2 = x0 - i2 + 2 * G3; // Offsets for third corner\n            var y2 = y0 - j2 + 2 * G3;\n            var z2 = z0 - k2 + 2 * G3;\n            var x3 = x0 - 1 + 3 * G3; // Offsets for fourth corner\n            var y3 = y0 - 1 + 3 * G3;\n            var z3 = z0 - 1 + 3 * G3;\n            // Work out the hashed gradient indices of the four simplex corners\n            i &= 255;\n            j &= 255;\n            k &= 255;\n            var gi0 = gradP[i + perm[j + perm[k]]];\n            var gi1 = gradP[i + i1 + perm[j + j1 + perm[k + k1]]];\n            var gi2 = gradP[i + i2 + perm[j + j2 + perm[k + k2]]];\n            var gi3 = gradP[i + 1 + perm[j + 1 + perm[k + 1]]];\n            // Calculate the contribution from the four corners\n            var t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0;\n            if (t0 < 0) {\n                n0 = 0;\n            }\n            else {\n                t0 *= t0;\n                n0 = t0 * t0 * gi0.dot3(x0, y0, z0); // (x,y) of grad3 used for 2D gradient\n            }\n            var t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1;\n            if (t1 < 0) {\n                n1 = 0;\n            }\n            else {\n                t1 *= t1;\n                n1 = t1 * t1 * gi1.dot3(x1, y1, z1);\n            }\n            var t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2;\n            if (t2 < 0) {\n                n2 = 0;\n            }\n            else {\n                t2 *= t2;\n                n2 = t2 * t2 * gi2.dot3(x2, y2, z2);\n            }\n            var t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3;\n            if (t3 < 0) {\n                n3 = 0;\n            }\n            else {\n                t3 *= t3;\n                n3 = t3 * t3 * gi3.dot3(x3, y3, z3);\n            }\n            // Add contributions from each corner to get the final noise value.\n            // The result is scaled to return values in the interval [-1,1].\n            return 32 * (n0 + n1 + n2 + n3);\n        }\n        ;\n        // 2D Perlin Noise\n        perlin2(x, y) {\n            // Find unit grid cell containing point\n            var X = Math.floor(x), Y = Math.floor(y);\n            // Get relative xy coordinates of point within that cell\n            x = x - X;\n            y = y - Y;\n            // Wrap the integer cells at 255 (smaller integer period can be introduced here)\n            X = X & 255;\n            Y = Y & 255;\n            // Calculate noise contributions from each of the four corners\n            var n00 = gradP[X + perm[Y]].dot2(x, y);\n            var n01 = gradP[X + perm[Y + 1]].dot2(x, y - 1);\n            var n10 = gradP[X + 1 + perm[Y]].dot2(x - 1, y);\n            var n11 = gradP[X + 1 + perm[Y + 1]].dot2(x - 1, y - 1);\n            // Compute the fade curve value for x\n            var u = fade(x);\n            // Interpolate the four results\n            return lerp(lerp(n00, n10, u), lerp(n01, n11, u), fade(y));\n        }\n        ;\n        // 3D Perlin Noise\n        perlin3(x, y, z) {\n            // Find unit grid cell containing point\n            var X = Math.floor(x), Y = Math.floor(y), Z = Math.floor(z);\n            // Get relative xyz coordinates of point within that cell\n            x = x - X;\n            y = y - Y;\n            z = z - Z;\n            // Wrap the integer cells at 255 (smaller integer period can be introduced here)\n            X = X & 255;\n            Y = Y & 255;\n            Z = Z & 255;\n            // Calculate noise contributions from each of the eight corners\n            var n000 = gradP[X + perm[Y + perm[Z]]].dot3(x, y, z);\n            var n001 = gradP[X + perm[Y + perm[Z + 1]]].dot3(x, y, z - 1);\n            var n010 = gradP[X + perm[Y + 1 + perm[Z]]].dot3(x, y - 1, z);\n            var n011 = gradP[X + perm[Y + 1 + perm[Z + 1]]].dot3(x, y - 1, z - 1);\n            var n100 = gradP[X + 1 + perm[Y + perm[Z]]].dot3(x - 1, y, z);\n            var n101 = gradP[X + 1 + perm[Y + perm[Z + 1]]].dot3(x - 1, y, z - 1);\n            var n110 = gradP[X + 1 + perm[Y + 1 + perm[Z]]].dot3(x - 1, y - 1, z);\n            var n111 = gradP[X + 1 + perm[Y + 1 + perm[Z + 1]]].dot3(x - 1, y - 1, z - 1);\n            // Compute the fade curve value for x, y, z\n            var u = fade(x);\n            var v = fade(y);\n            var w = fade(z);\n            // Interpolate\n            return lerp(lerp(lerp(n000, n100, u), lerp(n001, n101, u), w), lerp(lerp(n010, n110, u), lerp(n011, n111, u), w), v);\n        }\n        ;\n    }\n    Noise_1.Noise = Noise;\n})(Noise || (Noise = {}));\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, Promise, generator) {\n    return new Promise(function (resolve, reject) {\n        generator = generator.call(thisArg, _arguments);\n        function cast(value) { return value instanceof Promise && value.constructor === Promise ? value : new Promise(function (resolve) { resolve(value); }); }\n        function onfulfill(value) { try { step(\"next\", value); } catch (e) { reject(e); } }\n        function onreject(value) { try { step(\"throw\", value); } catch (e) { reject(e); } }\n        function step(verb, value) {\n            var result = generator[verb](value);\n            result.done ? resolve(result.value) : cast(result.value).then(onfulfill, onreject);\n        }\n        step(\"next\", void 0);\n    });\n};\nconsole.log(\"test\");\nconst config = {\n    w: 1024,\n    h: 768,\n    colors: {\n        river: [\"#66f\", \"#66f\"],\n        road: [\"#444\", undefined],\n        tree: [\"#4a4\", \"#4a4\"]\n    }\n};\nconst canW = 1024, canH = 768;\nconst π = Math.PI;\nvar Pos;\n(function (Pos) {\n    function distance2(p1, p2) {\n        return Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2);\n    }\n    Pos.distance2 = distance2;\n    function minus(p1, p2) {\n        return { x: p1.x - p2.x, y: p1.y - p2.y };\n    }\n    Pos.minus = minus;\n    function angle(p1, p2) {\n        const d = minus(p2, p1);\n        return Math.atan2(d.y, d.x);\n    }\n    Pos.angle = angle;\n    function toString({ x, y }) {\n        return `(${x.toFixed(2)}, ${y.toFixed(2)})`;\n    }\n    Pos.toString = toString;\n    function clone({ x, y }) {\n        return { x, y };\n    }\n    Pos.clone = clone;\n})(Pos || (Pos = {}));\nclass UnionFind {\n    constructor() {\n        this.roots = new Map();\n        this.ranks = new Map();\n    }\n    add(t) {\n        this.roots.set(t, t);\n        this.ranks.set(t, 0);\n    }\n    find(x) {\n        let x0 = x;\n        const roots = this.roots;\n        if (!roots.has(x))\n            throw Error(`${x} not in UnionFind`);\n        while (roots.get(x) !== x)\n            x = roots.get(x);\n        while (roots.get(x0) !== x) {\n            const y = roots.get(x0);\n            roots.set(x0, x);\n            x0 = y;\n        }\n        return x;\n    }\n    link(x, y) {\n        let xr = this.find(x), yr = this.find(y);\n        if (xr === yr)\n            return;\n        const ranks = this.ranks, roots = this.roots, xd = ranks.get(xr), yd = ranks.get(yr);\n        if (xd < yd) {\n            roots.set(xr, yr);\n        }\n        else if (yd < xd) {\n            roots.set(yr, xr);\n        }\n        else {\n            roots.set(yr, xr);\n            ranks.set(xr, ranks.get(xr) + 1);\n        }\n    }\n    toMap() {\n        const map = new Map();\n        for (const t of this.roots.keys()) {\n            const r = this.find(t);\n            if (map.has(r))\n                map.get(r).push(t);\n            else\n                map.set(r, [t]);\n        }\n        return map;\n    }\n}\nclass CityElement {\n    constructor(pos, rot = 0) {\n        this.pos = pos;\n        this.rot = rot;\n        this.id = CityElement.uniqueCounter++;\n    }\n    render(ctx, forPixelMap = false) {\n        ctx.save();\n        ctx.translate(this.pos.x, this.pos.y);\n        ctx.rotate(this.rot);\n        this.renderObj(ctx, forPixelMap);\n        ctx.restore();\n    }\n    toString() {\n        return `${this.constructor.name} at (${Pos.toString(this.pos)})`;\n    }\n}\nCityElement.uniqueCounter = 0;\nclass PolyElement extends CityElement {\n    constructor(pos = { x: 0, y: 0 }, rot = 0, arr, width, bumpWidth, strokeColor = \"#000\", fillColor, closePath = false) {\n        super(pos, rot);\n        this.arr = arr;\n        this.width = width;\n        this.bumpWidth = bumpWidth;\n        this.strokeColor = strokeColor;\n        this.fillColor = fillColor;\n        this.closePath = closePath;\n    }\n    renderObj(ctx, forPixelMap) {\n        if (this.arr.length === 0)\n            return;\n        ctx.save();\n        ctx.beginPath();\n        ctx.moveTo(this.arr[0].x, this.arr[0].y);\n        for (const p of this.arr.slice(1)) {\n            ctx.lineTo(p.x, p.y);\n        }\n        if (this.closePath)\n            ctx.closePath();\n        if (!forPixelMap)\n            ctx.strokeStyle = this.strokeColor;\n        ctx.lineWidth = forPixelMap ? this.bumpWidth : this.width;\n        ctx.stroke();\n        if (this.fillColor) {\n            if (!forPixelMap)\n                ctx.fillStyle = this.fillColor;\n            ctx.fill();\n        }\n        ctx.restore();\n    }\n}\nclass House extends PolyElement {\n    constructor(pos, rot = 0, size = 10) {\n        super(pos, rot, [{ x: 0, y: 0 }, { x: size, y: 0 }, { x: size, y: size }, { x: 0, y: size }], 1, 10, \"#000\", \"#000\", true);\n    }\n}\nclass CircleElement extends CityElement {\n    constructor(pos, radius, bumpRadius, strokeColor = \"#000\", fillColor = strokeColor) {\n        super(pos, 0);\n        this.radius = radius;\n        this.bumpRadius = bumpRadius;\n        this.strokeColor = strokeColor;\n        this.fillColor = fillColor;\n    }\n    renderObj(ctx, forPixelMap) {\n        if (!forPixelMap)\n            ctx.strokeStyle = this.strokeColor;\n        if (!forPixelMap)\n            ctx.fillStyle = this.fillColor;\n        ctx.beginPath();\n        ctx.arc(0, 0, forPixelMap ? this.bumpRadius : this.radius, 0, 2 * π);\n        ctx.fill();\n        ctx.stroke();\n    }\n}\nclass Tree extends CircleElement {\n    constructor(pos, radius) {\n        super(pos, radius, radius * 2, config.colors.tree[0], config.colors.tree[1]);\n    }\n}\nclass River extends CircleElement {\n    constructor(pos, radius) {\n        super(pos, radius, radius * 2, config.colors.river[0], config.colors.river[1]);\n    }\n}\nclass Road extends PolyElement {\n    constructor(path, houses) {\n        super({ x: 0, y: 0 }, 0, path, 4, 10, config.colors.road[0], config.colors.road[1]);\n        this.houses = houses;\n    }\n}\nclass PixelMap {\n    constructor(w, h) {\n        this.w = w;\n        this.h = h;\n        this.can = document.createElement(\"canvas\");\n        this.map = new Map();\n        this.can.width = w;\n        this.can.height = h;\n        this.ctx = this.can.getContext(\"2d\");\n        this.ctx.fillStyle = \"white\";\n        this.ctx.fillRect(0, 0, w, h);\n    }\n    add(e) {\n        const v = new DataView(new ArrayBuffer(4));\n        v.setUint32(0, e.id, true);\n        const color = `rgb(${v.getUint8(0)}, ${v.getUint8(1)}, ${v.getUint8(2)})`;\n        this.ctx.strokeStyle = this.ctx.fillStyle = color;\n        this.map.set(e.id, e);\n        e.render(this.ctx, true);\n    }\n    get({ x, y }) {\n        const d = this.ctx.getImageData(x, y, 1, 1).data;\n        d[3] = 0;\n        const v = new DataView(d.buffer, d.byteOffset, d.byteLength);\n        return this.map.get(v.getUint32(0, true));\n    }\n}\nfunction makeTerrain() {\n    // https://code.google.com/p/fractalterraingeneration/wiki/Fractional_Brownian_Motion\n    const noise = new Noise.Noise();\n    const lacunarity = 2;\n    const gain = 1 / lacunarity;\n    const octaves = 5;\n    return (x, y) => {\n        let frequency = 0.002;\n        let amplitude = gain;\n        let total = 0.0;\n        for (let i = 0; i < octaves; ++i) {\n            total += noise.perlin2(x * frequency, y * frequency) * amplitude;\n            frequency *= lacunarity;\n            amplitude *= gain;\n        }\n        return ((total + 1) / 2 * 200 + 127) | 0;\n    };\n}\nclass City {\n    constructor() {\n        this.houses = [];\n        this.houseUnion = new UnionFind();\n        this.terrain = makeTerrain();\n        this.roads = [];\n        this.pixelMap = new PixelMap(canW, canH);\n        this.oob = (pos) => pos.x < 0 || pos.y < 0 || pos.x > canW || pos.y > canH;\n        this.stuff = [];\n    }\n    add(thing) {\n        if (thing instanceof House) {\n            this.houses.push(thing);\n            this.houseUnion.add(thing);\n        }\n        if (thing instanceof Road) {\n            const [house, targ] = thing.houses;\n            if (targ instanceof House)\n                this.houseUnion.link(house, targ);\n            else if (targ instanceof Road)\n                this.houseUnion.link(house, targ.houses[0]);\n            else\n                throw Error(\"road cannot end in \" + targ);\n            this.roads.push(thing);\n        }\n        else {\n            this.stuff.push(thing);\n        }\n        this.pixelMap.add(thing);\n    }\n    unionizeHouses() {\n        return __awaiter(this, void 0, Promise, function* () {\n            let houseUnionMap = this.houseUnion.toMap();\n            while (houseUnionMap.size > 1) {\n                console.log(`currently ${houseUnionMap.size} groups`);\n                const roots = [...houseUnionMap.keys()];\n                const group1 = randomChoice(roots);\n                let group2;\n                do {\n                    group2 = randomChoice(roots);\n                } while (group2 === group1);\n                let house1 = randomChoice(houseUnionMap.get(group1)), house2 = randomChoice(houseUnionMap.get(group2));\n                const path = yield walkPath(city, cityRenderer.getCanvas().getContext(\"2d\"), house1, house2);\n                const targ = city.pixelMap.get(path[path.length - 1]);\n                city.add(new Road(path, [house1, targ]));\n                cityRenderer.drawCity(city);\n                houseUnionMap = this.houseUnion.toMap();\n            }\n        });\n    }\n}\nfunction randomNumber(min = 0, max = 1, round = false) {\n    const val = Math.random() * (max - min) + min;\n    return round ? val | 0 : val;\n}\nfunction randomChoice(arr) {\n    return arr[randomNumber(0, arr.length, true)];\n}\nfunction moveInDir(pos, dist, α = 0) {\n    return { x: pos.x + dist * Math.cos(α), y: pos.y + dist * Math.sin(α) };\n}\nfunction getMaxIndex(vals) {\n    let max = vals[0], maxi = 0;\n    for (let i = 1; i < vals.length; i++) {\n        if (vals[i] > max) {\n            max = vals[i];\n            maxi = i;\n        }\n    }\n    return maxi;\n}\nfunction placeHouseNearRiver(city, river, pos) {\n    const dist = 20;\n    const iter = 50;\n    let centerN = river(pos);\n    let max = -Infinity;\n    let maxP;\n    let maxα;\n    for (let i = 0; i < iter; i++) {\n        const α = 2 * π * i / iter;\n        const pos2 = moveInDir(pos, dist, α);\n        const noise = Math.abs(centerN - river(pos2));\n        if (noise > max) {\n            max = noise;\n            maxP = pos2;\n            maxα = α;\n        }\n    }\n    if (city.oob(maxP))\n        return;\n    if (city.houses.some(house => Pos.distance2(house.pos, maxP) < 10 * 10))\n        return;\n    city.add(new House(maxP, maxα));\n}\nfunction randomCity(houseCount = 10, treeCount = 1000, riverCount = 1) {\n    const w = canW, h = canH;\n    const city = new City();\n    const forest = new Noise.Noise();\n    let i = 0;\n    const forestScale = 3;\n    while (i < treeCount) {\n        const pos = { x: randomNumber(0, w, true), y: randomNumber(0, h, true) };\n        if (forest.perlin2(pos.x / w * forestScale, pos.y / h * forestScale) > randomNumber(0.2, 0.6)) {\n            city.add(new Tree(pos, 3));\n            i++;\n        }\n    }\n    const riverIter = 1000;\n    for (let i = 0; i < riverCount; i++) {\n        let i = 0, tries = 0;\n        var river = new Noise.Noise();\n        var riverScale = 2;\n        while (i < riverIter) {\n            const pos = { x: randomNumber(0, w, true), y: randomNumber(0, h, true) };\n            const noise = river.perlin2(pos.x / w * riverScale, pos.y / h * riverScale);\n            if (noise < 0.01 && noise > -0.01) {\n                city.add(new River(pos, 3));\n                if (city.houses.length < houseCount)\n                    placeHouseNearRiver(city, pos => river.perlin2(pos.x / w * riverScale, pos.y / h * riverScale), pos);\n                i++;\n            }\n            tries++;\n        }\n        if (tries > 100 && tries > i * 200) {\n            river = new Noise.Noise();\n            tries = 0;\n        }\n    }\n    return city;\n}\nfunction delayed(fun, duration) {\n    return new Promise(resolve => setTimeout(() => __awaiter(this, void 0, Promise, function* () { return resolve(yield fun()); }), duration));\n}\nfunction normalizeAngle(α) {\n    if (α > π)\n        α -= 2 * π;\n    if (α < -π)\n        α += 2 * π;\n    return α;\n}\nfunction walkPath(city, ctx, start, targ) {\n    return __awaiter(this, void 0, Promise, function* () {\n        let pos = Pos.clone(start.pos);\n        let α = Pos.angle(pos, targ.pos);\n        let dα = 0;\n        const stepDist = 4, minLookDist = 10, maxLookDist = 150, lookFOV = 50 * π / 180;\n        const rotationIntensity = 1 / 4;\n        const posRating = 5;\n        pos = moveInDir(pos, 2 * stepDist, α);\n        const rate = (pos) => {\n            if (city.oob(pos))\n                return 0;\n            const res = city.pixelMap.get(pos);\n            if (res === start)\n                return -3;\n            if (res instanceof Road || res instanceof House)\n                return posRating;\n            if (res instanceof Tree || res instanceof River)\n                return -1;\n            return 0;\n        };\n        const targetReached = (pos) => rate(pos) === posRating;\n        const path = [pos];\n        const step = () => __awaiter(this, void 0, Promise, function* () {\n            if (window[\"KILL\"])\n                throw \"kill\";\n            cityRenderer.drawCity(city);\n            pos = moveInDir(pos, stepDist, α);\n            path.push(pos);\n            const bucketCount = 5; // must be odd\n            const ratings = Array.apply(null, Array(bucketCount)).map((x) => 0);\n            const centerBucket = (bucketCount - 1) / 2;\n            ratings[centerBucket]++;\n            const lookps = [];\n            const colors = [\"black\", \"gray\", \"black\", \"gray\", \"black\"];\n            const bucketWidth = lookFOV / bucketCount;\n            for (let bucket = 0; bucket < bucketCount; bucket++) {\n                let curMaxLookDist = maxLookDist;\n                for (let i = 0; i < 300; i++) {\n                    const lookdα = bucketWidth * (bucket - centerBucket) + randomNumber(0, bucketWidth);\n                    const lookDist = randomNumber(minLookDist, curMaxLookDist);\n                    const lookp = moveInDir(pos, lookDist, α + lookdα);\n                    const rating = rate(lookp);\n                    if (rating != 0)\n                        curMaxLookDist = Math.min(curMaxLookDist, lookDist + maxLookDist / 10);\n                    ratings[bucket] += rating;\n                    lookps.push([lookp, bucket]);\n                }\n            }\n            for (const [lookp, bucket] of lookps)\n                new CircleElement(lookp, 1, 0, colors[bucket]).render(ctx);\n            new PolyElement(undefined, undefined, [pos, targ.pos], 2, 0).render(ctx);\n            const rot = (getMaxIndex(ratings) - centerBucket) / bucketCount * lookFOV * rotationIntensity;\n            dα = rot;\n            let targdα = normalizeAngle(Pos.angle(pos, targ.pos) - α);\n            if (dα === 0) {\n                dα = targdα * 0.4;\n            }\n            dα += targdα * 0.1;\n            α += dα;\n            α = normalizeAngle(α);\n            dα *= 0.9;\n            new CircleElement(pos, 2, 0).render(ctx);\n            if (city.oob(pos))\n                return path;\n            if (targetReached(pos)) {\n                console.log(\"target reached\");\n                return path;\n            }\n            else\n                return delayed(step, 0);\n        });\n        return yield step();\n    });\n}\n/*function walkPaths(city: City) {\n    for (let i = 0; i < 10; i++) {\n        const h1 = randomChoice(city.houses).pos;\n        walkPath(city, h1);\n    }\n}\n*/\nclass CityRenderer extends React.Component {\n    render() {\n        return React.createElement(\"canvas\", {\"ref\": \"canvas\", \"width\": canW, \"height\": canH, \"style\": { border: \"1px solid black\" }});\n    }\n    clear() {\n        const can = this.getCanvas();\n        const ctx = can.getContext(\"2d\");\n        ctx.fillStyle = \"#fff\";\n        ctx.fillRect(0, 0, can.width, can.height);\n    }\n    drawTerrain(city) {\n        const can = this.getCanvas();\n        const ctx = can.getContext(\"2d\");\n        if (!this.terrainImageData) {\n            const img = ctx.getImageData(0, 0, can.width, can.height);\n            for (let y = 0; y < can.height; y++)\n                for (let x = 0; x < can.width; x++) {\n                    const pos = (y * can.width + x) * 4;\n                    const terr = city.terrain(x, y);\n                    img.data[pos] = terr;\n                    img.data[pos + 1] = terr;\n                    img.data[pos + 2] = terr;\n                    img.data[pos + 3] = 255;\n                }\n            this.terrainImageData = img;\n        }\n        ctx.putImageData(this.terrainImageData, 0, 0);\n    }\n    drawCity(city) {\n        const can = this.getCanvas();\n        const ctx = can.getContext(\"2d\");\n        this.clear();\n        this.drawTerrain(city);\n        for (const ele of [...city.stuff, ...city.roads, ...city.houses]) {\n            ele.render(ctx);\n        }\n    }\n    getCanvas() {\n        return this.refs[\"canvas\"];\n    }\n}\nvar cityRenderer;\nlet city;\nvar ctx;\nconst debugHitmap = () => {\n    ctx.putImageData(city.pixelMap.ctx.getImageData(0, 0, 1024, 768), 0, 0);\n};\n$(document).ready(() => __awaiter(this, void 0, Promise, function* () {\n    cityRenderer = React.render(React.createElement(CityRenderer, null), $(\"#mainContainer\")[0]);\n    city = randomCity();\n    cityRenderer.drawCity(city);\n    city.unionizeHouses();\n    ctx = cityRenderer.getCanvas().getContext(\"2d\");\n}));\n//# sourceMappingURL=tmp.js.map",null]}